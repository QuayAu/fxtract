<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>R6 Object for Feature Extraction. — Xtractor • fxtract</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="R6 Object for Feature Extraction. — Xtractor" />

<meta property="og:description" content="Xtractor calculates features from raw data for each ID of a grouping variable individually with batchtools." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fxtract</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Helper Functions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tutorial/helper_preproc.html">add date information</a>
    </li>
    <li>
      <a href="../articles/tutorial/helper_filters.html">filters</a>
    </li>
    <li>
      <a href="../articles/tutorial/helper_calc_feature.html">calc_feature</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Xtractor
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tutorial/basics_xtractor.html">xtractor</a>
    </li>
    <li>
      <a href="../articles/tutorial/basics_xtractor_preprocess_data.html">xtractor - preprocess data</a>
    </li>
    <li>
      <a href="../articles/tutorial/basics_xtractor_update_data.html">xtractor - update data</a>
    </li>
    <li>
      <a href="../articles/tutorial/basics_xtractor_update_feature.html">xtractor - update feature</a>
    </li>
    <li>
      <a href="../articles/tutorial/basics_xtractor_error_handling.html">xtractor - error handling</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Use Cases
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tutorial/usecase_studentlife.html">StudentLife</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/QuayAu/fxtract">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>R6 Object for Feature Extraction.</h1>
    <small class="dont-index">Source: <a href='https://github.com/QuayAu/fxtract/blob/master/R/xtractor.R'><code>R/xtractor.R</code></a></small>
    <div class="hidden name"><code>Xtractor.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>Xtractor</code> calculates features from raw data for each ID of a grouping variable individually with batchtools.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><code>R6Class</code> object.</p>
    
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    
    <pre>
xtractor = Xtractor$new("xtractor")
</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>

    
    <p>For Xtractor$new():</p><dl class='dl-horizontal'>
<dt><code>name</code>: </dt><dd><p>('character(1)'): A user defined name of the Xtractor. All necessary data will be saved on the path: ./fxtract_files/name/</p></dd>
<dt><code>load</code>: </dt><dd><p>(`logical(1)`): If TRUE, an existing Xtractor will be loaded.</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
    <p>All datasets and feature functions are saved in this R6 object. <code>Xtractor</code> heavily relies on the R-package batchtools.
Data will be saved as single RDS files (for each ID) and feature functions are calculated on each single dataset.
A big advantage of this method is that it scales nicely for larger datasets. Data is only read into RAM, when needed.</p>
    
    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    
    <dl class='dl-horizontal'>
<dt><code>name</code>: </dt><dd><p>(`character(1)`): The Xtractors name.</p></dd>
<dt><code>dir</code>: </dt><dd><p>(`character(1)`): The directory where files are saved.</p></dd>
<dt><code>group_by</code>: </dt><dd><p>(`character(1)`): The column on which to group by.</p></dd>
<dt><code>reg</code>: </dt><dd><p>(`registry`): batchtools registry.</p></dd>
<dt><code>perc_done</code>: </dt><dd><p>(`numeric(1)`): Active binding. Percentage of finished calculations.</p></dd>
<dt><code>error_messages</code>: </dt><dd><p>(`data.frame()`): Active binding. A dataframe with information about error messages.</p></dd>
<dt><code>log_files</code>: </dt><dd><p>(`list()`): Active binding. A list with the log files which were created due to errors.</p></dd>
<dt><code>datasets</code>: </dt><dd><p>(`character()`): Active binding. A character vector with the IDs of the grouping variable.</p></dd>
<dt><code>features</code>: </dt><dd><p>(`character()`): Active binding. A character vector with the feature functions which were added.</p></dd>
<dt><code>status</code>: </dt><dd><p>(`data.frame()`): Active binding. A dataframe with an overview over which features are done on which datasets.</p></dd>
<dt><code>results</code>: </dt><dd><p>(`data.frame()`): Active binding. A dataframe with all calculated features of all IDs.</p></dd>
</dl>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <dl class='dl-horizontal'>
<dt><code>add_data(dataframe, group_by)</code></dt><dd><p>[dataframe: (`data.frame`)] A dataframe which shall be added to the R6 object. <br />
 [group_by: (`character(1)`)] The grouping variable's name of the dataframe. <br />
 This method writes single RDS files (this can be parallelized with foreach) and adds them as batchtools problems for each ID of the grouping variable.
 After that, batchtools experiments will be added too.</p></dd> 
<dt><code>preprocess_data(fun)</code></dt><dd><p>[fun: (`function`)] A function, which has a dataframe as input and a dataframe as output. <br />
 This method loads the RDS files and applies this function on them. The old RDS files are overwritten and the batchtools
 problems and experiments are updated.</p></dd>
<dt><code>remove_data(data)</code></dt><dd><p>[data: (`character(1)`)] An ID of the grouping variable. <br />
 This method deletes the RDS file and batchtools problem of one single ID of the grouping variable.</p></dd>
<dt><code>get_data(data)</code></dt><dd><p>[data: (`character()`)] One ore many IDs of the grouping variable. <br />
 This method returns one dataframe with the chosen IDs.</p></dd> 
<dt><code>add_feature(fun)</code></dt><dd><p>[fun: (`function`)] A function, which has a dataframe as input and a named vector as output. <br />
 This method adds a function as batchtools algorithm. After that, batchtools experiments are added too.</p></dd> 
<dt><code>remove_feature(fun)</code></dt><dd><p>[fun: (`function | character(1)`)] A function (or the name of the function as character) which shall be removed. <br />
 This method removes the batchtools algorithms and experiments corresponding to the given function.</p></dd> 
<dt><code>get_feature(fun)</code></dt><dd><p>[fun: (`character(1)`)] The name of a function as character. <br />
 This method reads the RDS file of the function. Useful for debugging after loading an Xtractor.</p></dd> 
<dt><code>calc_features()</code></dt><dd><p>This method calculates all features on all datasets. Internally, it submits all batchtools jobs, which are not done yet.</p></dd> 
<dt><code><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot()</a></code></dt><dd><p>[internal] method to print the R6 object.</p></dd> 
<dt><code>clone()</code></dt><dd><p>[internal] method to clone the R6 object.</p></dd> 
<dt><code>initialize()</code></dt><dd><p>[internal] method to initialize the R6 object.</p></dd>
</dl>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
  <span class='no'>xtractor</span> <span class='kw'>=</span> <span class='no'>Xtractor</span>$<span class='fu'>new</span>(<span class='st'>"xtractor"</span>)
  <span class='no'>xtractor</span>$<span class='fu'>add_data</span>(<span class='no'>iris</span>, <span class='kw'>group_by</span> <span class='kw'>=</span> <span class='st'>"Species"</span>)
  <span class='no'>xtractor</span>$<span class='no'>datasets</span>
  <span class='no'>fun</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>data</span>) {
    <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='kw'>mean_sepal_length</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/mean'>mean</a></span>(<span class='no'>data</span>$<span class='no'>Sepal.Length</span>))
  }
  <span class='no'>xtractor</span>$<span class='fu'>add_feature</span>(<span class='no'>fun</span>)
  <span class='no'>xtractor</span>$<span class='no'>features</span>
  <span class='no'>xtractor</span>$<span class='fu'>calc_features</span>()
  <span class='no'>xtractor</span>$<span class='no'>results</span>
  <span class='no'>xtractor</span>$<span class='no'>perc_done</span>
  <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/unlink'>unlink</a></span>(<span class='st'>"fxtract_files/xtractor"</span>, <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#format">Format</a></li>

      <li><a href="#usage">Usage</a></li>

      <li><a href="#arguments">Arguments</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#fields">Fields</a></li>

      <li><a href="#methods">Methods</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Quay Au.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

